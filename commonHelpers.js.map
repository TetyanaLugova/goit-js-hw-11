{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const formRef = document.querySelector(\".form\");\nexport const inputRef = document.querySelector(\"#text-search\");\nexport const galleryRef = document.querySelector(\".gallery\");\n\nexport function fetchImg(queryInput) {\n     queryInput = encodeURIComponent(queryInput);\n    galleryRef.innerHTML = '<div class=\"loader\"></div>';\n\n    const searchParams = new URLSearchParams({\n        key: \"42941180-7fae3d0b9e1a356f3d7e2df26\",\n        q: queryInput,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n};\n    ","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createMarkup(data) {\n    galleryRef.innerHTML = '';\n    console.log(data);\n    const images = data.hits;\n        if (images.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n        }\n      \n      const markap = images.map(\n    (image)=> `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source =\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n      width=360px\n      height=200px\n    />\n    <ul class=\"gallery-description\">\n          <li><h3>Likes</h3><p>${image.likes}</p>\n          </li>\n          <li><h3>Views</h3><p>${image.views}</p>\n            </li>\n            <li><h3>Comments</h3><p>${image.comments}</p>\n              </li>\n              <li><h3>Downloads</h3><p>${image.downloads}</p>\n                </li>\n          </ul>\n  </a>\n</li>\n`).join(\"\");\n    galleryRef.insertAdjacentHTML(\"beforeend\", markap);\n    \n    const galleryCfg = {\n    captionsData: 'alt',\n  };\n  let lightbox = new SimpleLightbox('.gallery a', galleryCfg);\n  lightbox.on('show.simplelightbox', function () {});\n  lightbox.refresh();\n}","//  \nimport {formRef, inputRef, galleryRef, fetchImg} from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet queryInput = \"\";\n\ninputRef.addEventListener(\"input\", (event) => {\n    queryInput = inputRef.value.trim();\n    galleryRef.innerHTML = '';\n});\n\nformRef.addEventListener(\"submit\", (event)=>{\n  event.preventDefault();\n  if (queryInput) {\n     galleryRef.innerHTML = '<div class=\"loader\"></div>';\n    fetchImg(queryInput)\n    .then(data => createMarkup(data))\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: \"Sorry, an error occurred while fetching images. Please try again later!\",\n      });\n    });\n  }\n});\n"],"names":["formRef","inputRef","galleryRef","fetchImg","queryInput","url","response","createMarkup","data","images","markap","image","galleryCfg","lightbox","SimpleLightbox","event","error","iziToast"],"mappings":"6vBAAO,MAAMA,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAa,SAAS,cAAc,UAAU,EAEpD,SAASC,EAASC,EAAY,CAChCA,EAAa,mBAAmBA,CAAU,EAC3CF,EAAW,UAAY,6BASvB,MAAMG,EAAM,4BAPS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CACmD,GAEpD,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCrBO,SAASC,EAAaC,EAAM,CAC/B,WAAW,UAAY,GACvB,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAASD,EAAK,KACZC,EAAO,SAAW,GAClB,SAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EAGP,MAAMC,EAASD,EAAO,IACvBE,GAAS;AAAA,kCACoBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,sBACTA,EAAM,aAAa;AAAA,aAC5BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKUA,EAAM,KAAK;AAAA;AAAA,iCAEXA,EAAM,KAAK;AAAA;AAAA,sCAENA,EAAM,QAAQ;AAAA;AAAA,yCAEXA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,CAKvD,EAAE,KAAK,EAAE,EACN,WAAW,mBAAmB,YAAaD,CAAM,EAEjD,MAAME,EAAa,CACnB,aAAc,KAClB,EACE,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CAClB,CCvCA,IAAIT,EAAa,GAEjBH,EAAS,iBAAiB,QAAUc,GAAU,CAC1CX,EAAaH,EAAS,MAAM,OAC5BC,EAAW,UAAY,EAC3B,CAAC,EAEDF,EAAQ,iBAAiB,SAAWe,GAAQ,CAC1CA,EAAM,eAAc,EAChBX,IACDF,EAAW,UAAY,6BACxBC,EAASC,CAAU,EAClB,KAAKI,GAAQD,EAAaC,CAAI,CAAC,EAC/B,MAAMQ,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yEACjB,CAAO,CACP,CAAK,EAEL,CAAC"}