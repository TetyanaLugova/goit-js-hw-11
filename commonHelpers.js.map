{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formRef = document.querySelector(\".form\");\nconst inputRef = document.querySelector(\"#text-search\");\nconst galleryRef = document.querySelector(\".gallery\");\nlet queryInput = \"\";\n\ninputRef.addEventListener(\"input\", (event) => {\n    queryInput = inputRef.value.trim();\n    galleryRef.innerHTML = \"\";\n});\n\n\nformRef.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    const searchParams = new URLSearchParams({\n    key: \"42941180-7fae3d0b9e1a356f3d7e2df26\",\n    q:  queryInput ,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    });\n    \n    const url = `https://pixabay.com/api/?${searchParams}`;\n    \n    galleryRef.innerHTML = '<div class=\"loader\"></div>';\n\nfetch(url)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n    .then(data => {\n        galleryRef.innerHTML = '';\n        const images = data.hits;\n        if (images.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n            return;\n        }\n      \n      const markap = images.map(\n    (image)=> `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source =\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n      width=360px\n      height=200px\n    \n    />\n    <ul class=\"gallery-description\">\n          <li><h3>Likes</h3><p>${image.likes}</p>\n          </li>\n          <li><h3>Views</h3><p>${image.views}</p>\n            </li>\n            <li><h3>Comments</h3><p>${image.comments}</p>\n              </li>\n              <li><h3>Downloads</h3><p>${image.downloads}</p>\n                </li>\n          </ul>\n  </a>\n</li>\n`).join(\"\");\n        galleryRef.insertAdjacentHTML(\"beforeend\", markap);\n\n\t\t const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n            });\n            lightbox.on('show.simplelightbox', function () {});\n            lightbox.refresh();\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: \"Sorry, an error occurred while fetching images. Please try again later!\",\n            });\n            console.error(error);\n        });\n});\n"],"names":["formRef","inputRef","galleryRef","queryInput","event","url","response","data","images","iziToast","markap","image","lightbox","SimpleLightbox","error"],"mappings":"6vBAOA,MAAMA,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAa,SAAS,cAAc,UAAU,EACpD,IAAIC,EAAa,GAEjBF,EAAS,iBAAiB,QAAUG,GAAU,CAC1CD,EAAaF,EAAS,MAAM,OAC5BC,EAAW,UAAY,EAC3B,CAAC,EAGDF,EAAQ,iBAAiB,SAAWI,GAAU,CAC1CA,EAAM,eAAc,EAUpB,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAIF,EACJ,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,CAEmD,GAEpDD,EAAW,UAAY,6BAE3B,MAAMG,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACE,KAAKC,GAAQ,CACVL,EAAW,UAAY,GACvB,MAAMM,EAASD,EAAK,KACpB,GAAIC,EAAO,SAAW,EAAG,CACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EACD,MACH,CAEH,MAAMC,EAASF,EAAO,IACvBG,GAAS;AAAA,kCACoBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,sBACTA,EAAM,aAAa;AAAA,aAC5BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMUA,EAAM,KAAK;AAAA;AAAA,iCAEXA,EAAM,KAAK;AAAA;AAAA,sCAENA,EAAM,QAAQ;AAAA;AAAA,yCAEXA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,CAKvD,EAAE,KAAK,EAAE,EACFT,EAAW,mBAAmB,YAAaQ,CAAM,EAEtD,MAAME,EAAW,IAAIC,EAAe,aAAc,CACrC,aAAc,KAC9B,CAAa,EACDD,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CAC5B,CAAS,EACA,MAAME,GAAS,CACZL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,yEACzB,CAAa,EACD,QAAQ,MAAMK,CAAK,CAC/B,CAAS,CACT,CAAC"}